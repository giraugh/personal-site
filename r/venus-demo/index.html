<script src="venus.js"></script>
<img id="logo" src="icon.png"></img>
<h2 id="in">In</h1>
<textarea id="input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">fn add(a, b){return a + b}</textarea>
<h2 id="out">Out</h1>
<textarea id="output" readonly></textarea>
<style>
  #logo {
    position: absolute;
    padding-left: calc(50% - 60px);
    padding-top: 30px;
  }

  #in, #out {
    left: calc(25% - 190px);
    top: 140px;
    position: absolute;
    font-family: sans-serif;
    color: grey;
  }

  #out {
    left: calc(75% - 190px);
  }

  #input, #output {
    display: block;
    position: absolute;
    left: 25%;
    top: 200px;
    width: 400px;
    height: 400px;
    margin-left: -200px;
  }

  textarea {
    -webkit-box-shadow: inset 0px 0px 15px -2px rgba(199,197,199,0.82);
    -moz-box-shadow: inset 0px 0px 15px -2px rgba(199,197,199,0.82);
    box-shadow: inset 0px 0px 15px -2px rgba(199,197,199,0.82);
    border: none;
    outline: none;
    resize: none;

    color: grey;
  }

  #output {
    left: 75%;
  }

  #output {
    float: right;
  }

  button {
    display: block;
    position: absolute;
    left: 50%;
    top: 50%;
    margin-left: -100px;
    margin-top: -100px;
    width: 200px;
    height: 50px;
    font-family: courier;
    display: block;

    appearance: none;
    border-radius: 6px;
    border: none;
    background-color: transparent;

    box-shadow: inset 0px 0px 15px -2px rgba(199,197,199,0.82);
  }

  button:hover {
    box-shadow: inset 0px 0px 20px -2px rgba(199,197,199,0.82);
    background-color: #f7f8f9
  }

  button:active {
    box-shadow: inset 0px 0px 35px -2px rgba(199,197,199,0.82);
  }

  button:focus {outline:0;}
</style>
<script>
  var textareas = document.getElementsByTagName('textarea');
  var count = textareas.length;
  for(var i=0;i<count;i++){
    textareas[i].onkeydown = function(e){
        if(e.keyCode==9 || e.which==9){
            e.preventDefault();
            var s = this.selectionStart;
            this.value = this.value.substring(0,this.selectionStart) + " " + this.value.substring(this.selectionEnd);
            this.selectionEnd = s+1;
        }
    }
  }

  update = function() {
      if (document.getElementById("input").value !== "") {
        try {
          document.getElementById("output").value =
          go(document.getElementById("input").value)
        } catch (e) {
          document.getElementById("output").value = e
        }
      }

      document.getElementById("output").value = document.getElementById("output").value.replace(/\t/g, " ")
      requestAnimationFrame(update)
  }
  update()
</script>
